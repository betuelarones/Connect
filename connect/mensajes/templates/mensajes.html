{% load static %}
<link rel="stylesheet" href="{% static 'css/mensajes.css' %}">

<div class="ms-container">
  <!-- Sidebar de conversaciones -->
  <div class="ms-sidebar" id="msSidebar">
    <div class="ms-sidebar-header">
      <h2>Mensajes</h2>
      <button class="ms-new-btn" onclick="nuevoMensaje()" title="Nuevo mensaje">✉️</button>
    </div>

    <!-- Búsqueda en sidebar (desktop) -->
    <div class="ms-search-wrapper">
      <input type="text" class="ms-search-input" placeholder="Buscar conversaciones..." oninput="buscarConversaciones(this.value)">
    </div>

    <div class="ms-convo-list" id="msConvoList">
      <!-- Conversaciones dinámicas -->
    </div>
  </div>

  <!-- Área de chat -->
  <div class="ms-chat-area" id="msChatArea">

    <!-- Cabecera principal (móvil): búsqueda -->
    <div class="ms-chat-header with-search" id="msMainHeader" style="display: none;">
      <button class="ms-back-btn" onclick="volverALista()">←</button>
      <div class="ms-search-wrapper-mobile">
        <input type="text" class="ms-search-input" placeholder="Buscar conversaciones..." oninput="buscarConversaciones(this.value)">
      </div>
    </div>

    <!-- Estado vacío -->
    <div class="ms-empty" id="msEmpty">
      <h3>Selecciona una conversación</h3>
      <p>Elige un chat para comenzar a conversar</p>
    </div>

    <!-- Cabecera del chat activo -->
    <div class="ms-chat-header with-chat" id="msChatHeader" style="display: none;">
      <button class="ms-back-btn" onclick="volverALista()">←</button>
      <div class="ms-chat-avatar" id="msActiveChatAvatar"></div>
      <div class="ms-chat-nombre" id="msActiveChatName"></div>
    </div>

    <!-- Los mensajes y la caja de entrada se insertan dinámicamente -->
  </div>
</div>

<!-- Tu lógica JS para mensajería -->
<script src="{% static 'mensajes/mensaje.js' %}"></script>
